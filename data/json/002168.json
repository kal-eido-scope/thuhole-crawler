{"code":0,"data":[{"cid":11664,"deleted":false,"image_metadata":{},"is_dz":false,"name":"Alice","permissions":["report"],"pid":2168,"reply_to":-1,"tag":null,"text":"只要使用邮箱进行加密就没有办法，因为你复制邮箱验证码就已经有了邮箱到 token 的映射关系，而发到清华邮箱的邮件校方显然有记录","timestamp":1592800572,"type":"text","url":""},{"cid":11671,"deleted":false,"image_metadata":{},"is_dz":false,"name":"Bob","permissions":["report"],"pid":2168,"reply_to":-1,"tag":null,"text":"一个邮箱能注册无限个账号和现在有什么区别呢？","timestamp":1592800615,"type":"text","url":""},{"cid":11676,"deleted":false,"image_metadata":{},"is_dz":false,"name":"Alice","permissions":["report"],"pid":2168,"reply_to":-1,"tag":null,"text":"有人建议是访问仅能在校内访问的东西以进行身份验证，这样必然无法实现单个账号，并且：\n1. 无法分辨学生和教职工\n2. 游客也可以通过验证","timestamp":1592800636,"type":"text","url":""},{"cid":11685,"deleted":false,"image_metadata":{},"is_dz":false,"name":"Alice","permissions":["report"],"pid":2168,"reply_to":-1,"tag":null,"text":"Re Bob: 现在是重新登录不会新开一个账号吧","timestamp":1592800672,"type":"text","url":""},{"cid":11691,"deleted":false,"image_metadata":{},"is_dz":true,"name":"洞主","permissions":["report"],"pid":2168,"reply_to":-1,"tag":null,"text":"Re Bob: 现在加密方式是确定的，一个邮箱只能对应一个token，就是唯一id号。","timestamp":1592800690,"type":"text","url":""},{"cid":11712,"deleted":false,"image_metadata":{},"is_dz":false,"name":"Carol","permissions":["report"],"pid":2168,"reply_to":-1,"tag":null,"text":"Re Alice: 发到邮箱的token和usertoken不一样吧","timestamp":1592800785,"type":"text","url":""},{"cid":11748,"deleted":false,"image_metadata":{},"is_dz":false,"name":"Alice","permissions":["report"],"pid":2168,"reply_to":-1,"tag":null,"text":"Re Carol: 的确不一样，但是为了实现某 token 可以激活一个 usertoken 就必须存储它们的对应方式","timestamp":1592800952,"type":"text","url":""},{"cid":11775,"deleted":false,"image_metadata":{},"is_dz":true,"name":"洞主","permissions":["report"],"pid":2168,"reply_to":-1,"tag":null,"text":"Re Alice: 其实这个问题的根本应该是找到一种办法，可以让树洞确认是清华的学生，但同时学校并不掌握用于注册的全部信息","timestamp":1592801093,"type":"text","url":""},{"cid":11803,"deleted":false,"image_metadata":{},"is_dz":false,"name":"Alice","permissions":["report"],"pid":2168,"reply_to":-1,"tag":null,"text":"Re 洞主: 但是怎么确认呢？这个确认需要同时满足三个条件：\n1. 清华\n2. 学生\n3. 不留痕迹\n这在我看来是很难的，尤其是在用户数量很多时","timestamp":1592801202,"type":"text","url":""},{"cid":11832,"deleted":false,"image_metadata":{},"is_dz":true,"name":"洞主","permissions":["report"],"pid":2168,"reply_to":-1,"tag":null,"text":"Re Alice: 可以有一个折衷的办法，就是每隔一段时间更新一下加的盐，并且不保留记录。这样注册的账号数就不会爆炸了，而学校也无法追溯现有盐码之前的账号","timestamp":1592801344,"type":"text","url":""},{"cid":11964,"deleted":false,"image_metadata":{},"is_dz":false,"name":"Alice","permissions":["report"],"pid":2168,"reply_to":-1,"tag":null,"text":"Re 洞主: 您的意思是明文存储邮箱？","timestamp":1592801957,"type":"text","url":""},{"cid":12001,"deleted":false,"image_metadata":{},"is_dz":true,"name":"洞主","permissions":["report"],"pid":2168,"reply_to":-1,"tag":null,"text":"Re Alice: 不是。因为邮箱验证只需要一次，所以验证一次之后就只用唯一token进行身份验证了。","timestamp":1592802105,"type":"text","url":""},{"cid":12076,"deleted":false,"image_metadata":{},"is_dz":false,"name":"Alice","permissions":["report"],"pid":2168,"reply_to":-1,"tag":null,"text":"Re 洞主: 那您的意思是一段时间自动删除所有人的账号？","timestamp":1592802547,"type":"text","url":""},{"cid":12088,"deleted":false,"image_metadata":{},"is_dz":false,"name":"Dave","permissions":["report"],"pid":2168,"reply_to":-1,"tag":null,"text":"如果要支持从邮箱登录就不可能避免撞库了… 一个办法是彻底分开“注册过的邮箱集合”和“登录token（或者用户名）集合”，密码不可通过邮箱找回🤔","timestamp":1592802632,"type":"text","url":""},{"cid":12140,"deleted":false,"image_metadata":{},"is_dz":false,"name":"Alice","permissions":["report"],"pid":2168,"reply_to":-1,"tag":null,"text":"Re Dave: 嗯，只能如此，不过完全匿名可能造成大量有害信息（黄图、冲塔、卖片等等），并且无法通过封号避免","timestamp":1592802949,"type":"text","url":""},{"cid":12233,"deleted":false,"image_metadata":{},"is_dz":false,"name":"Dave","permissions":["report"],"pid":2168,"reply_to":-1,"tag":null,"text":"Re Alice: 嗯… 可以按token（用户名）限制发言？","timestamp":1592803487,"type":"text","url":""},{"cid":12318,"deleted":false,"image_metadata":{},"is_dz":true,"name":"洞主","permissions":["report"],"pid":2168,"reply_to":-1,"tag":null,"text":"Re Alice: 不是自动删除，而是不保留验证凭据了。比如你用邮箱注册了一个账号，加盐加密之后token是aaa，那么以后登陆的唯一凭据就是aaa，这个也一直存在库里。但随着盐更新之后，再也没有人知道是哪个邮箱得到这个token的了。但你仍然可以拿这个token登陆。甚至可以用这个token加用户自定义密码来进行验证。","timestamp":1592804043,"type":"text","url":""},{"cid":12346,"deleted":false,"image_metadata":{},"is_dz":false,"name":"Alice","permissions":["report"],"pid":2168,"reply_to":-1,"tag":null,"text":"Re 洞主: 你说得对，感觉还行","timestamp":1592804270,"type":"text","url":""},{"cid":12347,"deleted":false,"image_metadata":{},"is_dz":false,"name":"Alice","permissions":["report"],"pid":2168,"reply_to":-1,"tag":null,"text":"Re Dave: 那我用同一个邮箱换个号就好了啊","timestamp":1592804281,"type":"text","url":""},{"cid":12595,"deleted":false,"image_metadata":{},"is_dz":false,"name":"Dave","permissions":["report"],"pid":2168,"reply_to":-1,"tag":null,"text":"Re Alice: 我是说一个邮箱只能注册一次，但是不保留邮箱和id的对应关系，之后所有活动就都以id为惟一凭据了🤔","timestamp":1592806426,"type":"text","url":""},{"cid":12604,"deleted":false,"image_metadata":{},"is_dz":false,"name":"Dave","permissions":["report"],"pid":2168,"reply_to":-1,"tag":null,"text":"Re Alice: 之前说的token不太合适，应该叫id更好一些","timestamp":1592806460,"type":"text","url":""},{"cid":12715,"deleted":false,"image_metadata":{},"is_dz":false,"name":"Alice","permissions":["report"],"pid":2168,"reply_to":-1,"tag":null,"text":"Re Dave: 那忘了密码怎么办呢？活该吗","timestamp":1592807084,"type":"text","url":""},{"cid":13174,"deleted":false,"image_metadata":{},"is_dz":true,"name":"洞主","permissions":["report"],"pid":2168,"reply_to":-1,"tag":null,"text":"Re Alice: 反正也是匿名社区，忘了密码再注册一个就行了","timestamp":1592810372,"type":"text","url":""},{"cid":13264,"deleted":false,"image_metadata":{},"is_dz":false,"name":"Alice","permissions":["report"],"pid":2168,"reply_to":-1,"tag":null,"text":"Re 洞主: Dave说每个邮箱只能注册一次","timestamp":1592811021,"type":"text","url":""},{"cid":15156,"deleted":false,"image_metadata":{},"is_dz":false,"name":"Dave","permissions":["report"],"pid":2168,"reply_to":-1,"tag":null,"text":"Re Alice: 啊 就没法找回了吧… 或者密保问题什么的？是个不得不做的妥协quq","timestamp":1592822877,"type":"text","url":""}],"post":{"attention":false,"deleted":false,"image_metadata":{},"likenum":3,"permissions":["report","fold"],"pid":2168,"reply":25,"tag":null,"text":"刚才看到对树洞匿名性的讨论，觉得这个匿名性并不是很可靠。只要学校获得了加密后的token，再用全校师生的邮箱账号跑一遍就能撞库了。所以有好的加盐方式吗？比如在注册的时候随机加盐？但这样的坏处就是同一个邮箱就能注册无限个账号了。求x院大佬来支个招","timestamp":1592800497,"type":"text","updated_at":1606782583,"url":"","vote":{}}}